"use strict";import{DEFAULT_THEME as d}from"../generated/AssetParameters.js";import{mergeStyles as y}from"../ManagedStyles.js";import{fireThemeRegistered as $}from"../theming/ThemeRegistered.js";const l=new Map,T=new Map,h=new Map,u=new Map,a=new Set,f=(e,r,t,s="root")=>{T.set(`${e}/${r}`,t),u.set(e,{cssVariablesTarget:s}),a.add(r),$(r)},S=(e,r,t)=>{h.set(`${e}/${r}`,t)},L=async(e,r,t)=>{const s=`${e}_${r}_${t||""}`,o=l.get(s);if(o!==void 0)return o;if(!a.has(r)){const p=[...a.values()].join(", ");return console.warn(`You have requested a non-registered theme ${r} - falling back to ${d}. Registered themes are: ${p}`),c(e,d)}const[n,g]=await Promise.all([c(e,r),t?c(e,t,!0):void 0]),i=y(n,g);return i&&l.set(s,i),i},c=async(e,r,t=!1)=>{const o=(t?h:T).get(`${e}/${r}`);if(!o){t||console.error(`Theme [${r}] not registered for package [${e}]`);return}let n;try{n=await o(r)}catch(g){console.error(e,g.message);return}return n},m=()=>u,w=e=>a.has(e);export{f as registerThemePropertiesLoader,S as registerCustomThemePropertiesLoader,L as getThemeProperties,m as getRegisteredPackages,w as isThemeRegistered};
//# sourceMappingURL=Themes.js.map
