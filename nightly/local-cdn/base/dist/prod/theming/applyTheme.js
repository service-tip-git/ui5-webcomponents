"use strict";import{getThemeProperties as i,getRegisteredPackages as n,isThemeRegistered as g}from"../asset-registries/Themes.js";import{createOrUpdateStyle as c}from"../ManagedStyles.js";import p from"./getThemeDesignerTheme.js";import{fireThemeLoaded as T}from"./ThemeLoaded.js";import{attachCustomThemeStylesToHead as d,getThemeRoot as f}from"../config/ThemeRoot.js";import{DEFAULT_THEME as h}from"../generated/AssetParameters.js";import{getCurrentRuntimeIndex as l}from"../Runtimes.js";export let _lib="ui5",_package="webcomponents-theming";const a="@"+_lib+"/"+_package,u=()=>n().has(a),P=async e=>{if(!u())return;const t=await i(a,e);t&&c(t,"data-ui5-theme-properties",a,e)},y=async(e,t)=>{const s=[...n()].map(async r=>{if(r===a)return;const o=await i(r,e,t);o&&c(o,`data-ui5-component-properties-${l()}`,r)});return Promise.all(s)},k=async e=>{f()&&await d(e);const t=p();if(t)return t},E=async e=>{const t=await k(e),s=(g(e)?e:t&&t.baseThemeName)||h;await P(s),await y(s,t&&t.themeName===e?e:void 0),T(e)};export default E;
//# sourceMappingURL=applyTheme.js.map
